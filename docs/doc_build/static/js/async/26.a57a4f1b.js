"use strict";(self.webpackChunk_mini_markdown_resin_docs=self.webpackChunk_mini_markdown_resin_docs||[]).push([["26"],{6731:function(e,r,n){n.r(r),n.d(r,{default:()=>t});var s=n(651),d=n(6971);let l=n.p+"static/image/custom-toolbar.4d4567a4.png";function i(e){let r=Object.assign({h1:"h1",a:"a",h2:"h2",div:"div",p:"p",code:"code",h3:"h3",ul:"ul",li:"li",strong:"strong",pre:"pre",h4:"h4",blockquote:"blockquote",img:"img",h5:"h5"},(0,d.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.h1,{id:"api",children:["API",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#api",children:"#"})]}),"\n",(0,s.jsxs)(r.h2,{id:"属性",children:["属性",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#属性",children:"#"})]}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"提示"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"Editor"})," 组件基于 ",(0,s.jsx)(r.code,{children:"CodeMirror"})," 实现，支持所有 CodeMirror 的原生配置选项，并进行了功能扩展。本文档中仅列出了扩展属性和部分常用配置，如需了解全部配置选项，请查阅 ",(0,s.jsx)(r.a,{href:"https://codemirror.net/doc/manual.html#config",target:"_blank",rel:"noopener noreferrer",children:"CodeMirror 官方文档"}),"。"]}),"\n"]})]}),"\n",(0,s.jsxs)(r.h3,{id:"toolbars",children:["toolbars",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#toolbars",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"{ addTools?: ToolbarItem[]; excludeTools?: string[]; orderTools?: { type: string; order: number }[]; }"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["addTools：可以自定义新增 ",(0,s.jsx)(r.code,{children:"toolbar"})," 配置项"]}),"\n",(0,s.jsxs)(r.li,{children:["excludeTools：需要过滤工具项的 ",(0,s.jsx)(r.code,{children:"toolbar"})," 数组配置项"]}),"\n",(0,s.jsxs)(r.li,{children:["orderTools: 排序 ",(0,s.jsx)(r.code,{children:"toolbar"})," 中工具项先后顺序的数组配置项"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:"undefined"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"需要渲染的 toolbar，默认全部渲染。"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"工具栏项接口定义："})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"export interface BaseToolbarItem {\r\n  type: ToolbarType;\r\n  icon?: string;\r\n  title?: string;\r\n  description?: string;\r\n  disabled?: boolean;\r\n  visible?: boolean;\r\n  onClick?: () => void;\r\n  component?: React.ReactNode;\r\n}\r\n\r\nexport interface ToolbarItemListItem {\r\n  title: string;\r\n  type: string;\r\n  hotkey?: {\r\n    command: string;\r\n    description: string;\r\n    handle?: () => void;\r\n  };\r\n  onClick?: (...args: any[]) => void | (() => void);\r\n}\r\n\r\n// 完整的工具栏项接口\r\nexport interface ToolbarItem extends BaseToolbarItem {\r\n  list?: ToolbarItemListItem[];\r\n  hotkey?: {\r\n    command: string;\r\n    description: string;\r\n    handle?: () => void;\r\n  };\r\n}\n"})}),"\n",(0,s.jsxs)(r.h4,{id:"1-移除工具栏",children:["1. 移除工具栏",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#1-移除工具栏",children:"#"})]}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive warning",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"警告"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsx)(r.p,{children:"只能移除已存在的工具栏项，传入未被识别的工具栏项，不会生效。"}),"\n"]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'<Editor\r\n  toolbars={{\r\n    excludeTools: ["bold", "italic"],\r\n  }}\r\n/>\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"2-新增工具栏",children:["2. 新增工具栏",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#2-新增工具栏",children:"#"})]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"有三种方法可以自定义工具栏：配置项、组件、工具栏实例。"})}),"\n"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"方法1：配置项"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'// 因为 icon 属性需要的是 字符串，所以导入路径的时候需要使用 `?raw`\r\n/**\r\n * 尽量将 svg 的 width、height 设置为 1em\r\n * <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"></svg>\r\n */\r\nimport CustomToolbarIcon from "@/assets/images/custom-toolbar.svg?raw";\r\n\r\n<Editor\r\n  toolbars={{\r\n    addTools: [\r\n      {\r\n        type: "custom-toolbar",\r\n        title: "自定义toolbar",\r\n        icon: CustomToolbarIcon, // type: string\r\n        description: "自定义toolbar的描述",\r\n        hotkey: {\r\n          command: "Mod-p", // 快捷键\r\n          description: "Mod-p", // 工具栏快捷键展示的描述信息\r\n          handle: () => {\r\n            // 执行快捷键后的回调\r\n            console.log("我是快捷键输出123");\r\n          },\r\n        },\r\n        // 点击工具栏按钮的回调\r\n        onClick: () => {\r\n          console.log("我是快捷键输出123");\r\n        },\r\n      },\r\n    ],\r\n  }}\r\n/>;\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"方法2：组件"}),"\n",(0,s.jsxs)(r.p,{children:["通过配置 ",(0,s.jsx)(r.code,{children:"component"})," 属性，可以自定义工具栏的样式。"]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsx)(r.p,{children:"在该方式中，工具栏的样式需要完全自定义。"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)("img",{src:l,alt:"自定义toolbar的描述"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'<Editor\r\n  toolbars={{\r\n    addTools: [\r\n      {\r\n        type: "custom-toolbar",\r\n        component: <div>组件</div>,\r\n      },\r\n    ],\r\n  }}\r\n/>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"方法3： 工具栏实例"}),"\n",(0,s.jsxs)(r.p,{children:["可以通过 ",(0,s.jsx)(r.code,{children:"ToolbarManager"})," 实例方法，对工具栏进行操作。"]}),"\n",(0,s.jsx)(r.p,{children:"此处给出添加工具栏项的示例:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{1,7-24}",children:'import { Editor, ToolbarManager, insertContent } from "mini-markdown-editor";\r\nimport { useEffect } from "react";\r\n\r\nconst App = () => {\r\n  useEffect(() => {\r\n    try {\r\n      toolbarConfig.addToolItem({\r\n        type: "custom-toolbar",\r\n        title: "自定义工具栏",\r\n        icon: CustomToolbarIcon,\r\n        description: "自定义工具栏的描述",\r\n        hotkey: {\r\n          command: "Mod-l",\r\n          description: "快捷键描述",\r\n          handle: () => {\r\n            console.log("执行快捷键的回调");\r\n          },\r\n        },\r\n        onClick: () => {\r\n          // 插入内容\r\n          insertContent.insertTextAtCursor("123");\r\n          // 更精细控制\r\n          insertContent.insertContent("123", { anchor: 1, head: 1 });\r\n        },\r\n      });\r\n      console.log("添加工具栏成功");\r\n    } catch (error) {\r\n      console.error("添加工具栏失败:", error);\r\n    }\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Editor />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\n'})}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["想要深入了解 ToolbarManager 实例方法，可以移步查看: ",(0,s.jsx)(r.a,{href:"#toolbarmanager",children:"ToolbarManager 实例方法"}),"。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.h4,{id:"3-工具栏排序",children:["3. 工具栏排序",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#3-工具栏排序",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["通过 ",(0,s.jsx)(r.code,{children:"orderTools"})," 配置项，可以对工具栏中的工具项进行排序。"]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["只对 ",(0,s.jsx)(r.code,{children:"orderTools"})," 中配置的工具项进行排序，未配置的工具项不受影响。"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'<Editor\r\n  toolbars={{\r\n    orderTools: [\r\n      { type: "bold", order: 1 },\r\n      { type: "italic", order: 2 },\r\n      { type: "underline", order: 3 },\r\n    ],\r\n  }}\r\n/>\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"placeholder",children:["placeholder",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#placeholder",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"string"})]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:"undefined"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"编辑器内容为空时，展示在编辑器中的提示文字。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'<Editor placeholder="请输入内容" />\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"value",children:["value",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#value",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"string"})]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:'""'})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"编辑器内容初始化内容。"}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive warning",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"警告"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsxs)(r.p,{children:["当 ",(0,s.jsx)(r.code,{children:"local"})," 为 ",(0,s.jsx)(r.code,{children:"false"})," 时，",(0,s.jsx)(r.code,{children:"value"})," 才会起作用。不然会默认使用 ",(0,s.jsx)(r.code,{children:"localStorage"})," 中的内容。"]}),"\n"]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'<Editor value="# Hello World" local={false} />\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"local",children:["local",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#local",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:"true"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"是否开启本地存储，默认开启。"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"localStorage"})," 存储的 key 为 ",(0,s.jsx)(r.code,{children:"markdown-editor-content"})]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"<Editor local={false} />\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"status",children:["status",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#status",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:"true"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"底部状态栏是否显示，默认显示。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"<Editor status={false} />\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"theme",children:["theme",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#theme",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:'"light" | "dark"'})]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:'"light"'})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"编辑器主题。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'const App = () => {\r\n  const [theme, setTheme] = useState<"light" | "dark">("light");\r\n  const handleChange = () => {\r\n    setTheme(theme === "light" ? "dark" : "light");\r\n  };\r\n  return (\r\n    <>\r\n      <button onClick={handleChange}>切换主题</button>\r\n      <Editor theme={theme} />\r\n    </>\r\n  );\r\n};\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"locale",children:["locale",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#locale",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:'"en" | "cn" | "tw"'})]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:'"cn"'})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"语言环境。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'<Editor locale="cn" />\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"autofocus",children:["autoFocus",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#autofocus",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:"false"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"是否自动聚焦，默认不聚焦。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"<Editor autoFocus={true} />\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"linenumbers",children:["lineNumbers",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#linenumbers",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:"false"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"编辑区是否显示行号，默认不显示。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"<Editor lineNumbers={true} />\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"enableshortcuts",children:["enableShortcuts",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#enableshortcuts",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(r.li,{children:["默认值：",(0,s.jsx)(r.code,{children:"true"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"是否开启快捷键支持，默认开启。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"<Editor enableShortcuts={true} />\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"styleclassnameid等其他属性",children:["style、className、id等其他属性",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#styleclassnameid等其他属性",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["为",(0,s.jsx)(r.strong,{children:"编辑区"}),"添加样式、类名、id...，可以使用 ",(0,s.jsx)(r.code,{children:"CodeMirror"})," 的属性。"]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"style"}),"、",(0,s.jsx)(r.code,{children:"className"}),"、",(0,s.jsx)(r.code,{children:"id"})," 等属性，是继承的 ",(0,s.jsx)(r.code,{children:"CodeMirror"})," 属性，所以配置的是",(0,s.jsx)(r.strong,{children:"编辑区"}),"。"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["className：默认为 ",(0,s.jsx)(r.code,{children:"markdown-editor-content"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.h2,{id:"事件",children:["事件",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#事件",children:"#"})]}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"提示"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"Editor"})," 组件的事件系统基于 ",(0,s.jsx)(r.code,{children:"CodeMirror"})," 进行了扩展，部分基础事件已重命名或优化。本文档列出了常用事件处理方法，如需了解全部事件类型及详细用法，请参考 ",(0,s.jsx)(r.a,{href:"https://codemirror.net/doc/manual.html#events",target:"_blank",rel:"noopener noreferrer",children:"CodeMirror 事件文档"}),"。"]}),"\n"]})]}),"\n",(0,s.jsxs)(r.h3,{id:"onchange",children:["onChange",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#onchange",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"(value: string, editorView: ViewUpdate) => void"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"value：编辑器内容"}),"\n",(0,s.jsx)(r.li,{children:"editorView：编辑器实例"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"编辑器内容变化时触发。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"<Editor\r\n  onChange={(value, editorView) => {\r\n    console.log(value, editorView);\r\n  }}\r\n/>\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"onsave",children:["onSave",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#onsave",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"(value: string, editorView: EditorView) => void"})]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["保存事件，当点击 ",(0,s.jsx)(r.code,{children:"保存按钮"})," / ",(0,s.jsx)(r.code,{children:"按下快捷键"})," 时触发。"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"<Editor\r\n  onSave={(value, editorView) => {\r\n    // 上传服务器\r\n    console.log(value, editorView);\r\n  }}\r\n/>\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"onupload",children:["onUpload",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#onupload",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"(file: File, callback: Callback) => void"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["file：",(0,s.jsx)(r.code,{children:"File"})," 对象"]}),"\n",(0,s.jsxs)(r.li,{children:["callback：",(0,s.jsx)(r.code,{children:"Callback"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"type Callback = (param: { url: string; alt?: string }) => void;\n"})}),"\n",(0,s.jsx)(r.p,{children:"上传图片事件，等待上传结果，务必将上传后的 url 作为 callback 入参回传。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{5,12-15,19}",children:'import { message } from "antd";\r\n\r\nconst App: FC = () => {\r\n  // 请求测试\r\n  const handleUpload = async (file: File, callback: Callback) => {\r\n    await new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve({});\r\n      }, 1500);\r\n    });\r\n    callback({\r\n      url: "https://www.baidu.com/img/flexible/logo/pc/result@2.png",\r\n      alt: "alt",\r\n    });\r\n    message.success("上传成功");\r\n  };\r\n\r\n  return <EditorWrapper onUpload={handleUpload} />;\r\n};\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"ondragupload",children:["onDragUpload",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#ondragupload",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["类型：",(0,s.jsx)(r.code,{children:"(file: File, callback: Callback) => void"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["file：",(0,s.jsx)(r.code,{children:"File"})," 对象"]}),"\n",(0,s.jsxs)(r.li,{children:["callback：",(0,s.jsx)(r.code,{children:"Callback"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"type Callback = (param: { url: string; alt?: string }) => void;\n"})}),"\n",(0,s.jsx)(r.p,{children:"拖拽上传图片时触发，务必将上传后的 url 作为 callback 入参回传。"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsx)(r.p,{children:"callback的alt是可选项，如果没传的话就是nanoid生成的8位随机数字英文。"}),"\n"]}),"\n",(0,s.jsxs)(r.h3,{id:"onpatseupload",children:["onPatseUpload",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#onpatseupload",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["粘贴上传图片时触发，同 ",(0,s.jsx)(r.code,{children:"onDragUpload"})," 事件。"]}),"\n",(0,s.jsxs)(r.h2,{id:"ref",children:["ref",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#ref",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"编辑器实例方法。"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["具体类型，参考 ",(0,s.jsx)(r.a,{href:"/guide/api#editorref",children:"EditorRef"})]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"getcontent",children:["getContent",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#getcontent",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"获取编辑器内容。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{10}",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          const text = editorRef.current?.getContent();\r\n          console.log(text);\r\n        }}\r\n      >\r\n        获取内容\r\n      </button>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"setcontent",children:["setContent",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#setcontent",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"content: string"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"设置编辑器内容。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{10}",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          editorRef.current?.setContent("hello world");\r\n        }}\r\n      >\r\n        设置内容\r\n      </button>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"clear",children:["clear",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#clear",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"清空编辑器内容。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{10}",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          editorRef.current?.clear();\r\n          console.log(editorRef.current?.getContent());\r\n        }}\r\n      >\r\n        清空内容\r\n      </button>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"setcursor",children:["setCursor",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#setcursor",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"start: number, end: number"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"设置光标位置。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{10}",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          editorRef.current?.setCursor(100, 100);\r\n        }}\r\n      >\r\n        设置光标位置（100，100）\r\n      </button>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"getcursor",children:["getCursor",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#getcursor",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"{ from: number, to: number }"})]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["获取光标位置，返回开始和结束位置（如果 ",(0,s.jsx)(r.code,{children:"from"})," === ",(0,s.jsx)(r.code,{children:"to"}),"，则表示未选中内容）。"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{10}",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          const position = editorRef.current?.getCursor();\r\n          console.log(position);\r\n        }}\r\n      >\r\n        获取光标位置\r\n      </button>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"getselection",children:["getSelection",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#getselection",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"获取选中内容，返回选中的内容。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{10}",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          const text = editorRef.current?.getSelection();\r\n          console.log(text);\r\n        }}\r\n      >\r\n        获取选中内容\r\n      </button>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"focus",children:["focus",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#focus",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"设置编辑器聚焦。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{10}",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          editorRef.current?.focus();\r\n        }}\r\n      >\r\n        聚焦\r\n      </button>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"geteditorinstance",children:["getEditorInstance",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#geteditorinstance",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"EditorView | null"})]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["获取 ",(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"编辑区(CodeMirror)"})})," 实例。"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{10}",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          const instance = editorRef.current?.getEditorInstance();\r\n          console.log(instance);\r\n        }}\r\n      >\r\n        获取编辑器实例\r\n      </button>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"getpreviewinstance",children:["getPreviewInstance",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#getpreviewinstance",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"HTMLElement | null"})]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["获取 ",(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.code,{children:"预览区"})})," 实例。"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{10}",children:'import { Editor, type EditorRef } from "mini-markdown-editor";\r\nimport { useRef } from "react";\r\n\r\nexport default function () {\r\n  const editorRef = useRef<EditorRef>(null);\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          const instance = editorRef.current?.getPreviewInstance();\r\n          console.log(instance);\r\n        }}\r\n      >\r\n        获取预览区实例\r\n      </button>\r\n      <Editor ref={editorRef} />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h2,{id:"实例方法",children:["实例方法",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#实例方法",children:"#"})]}),"\n",(0,s.jsxs)(r.h3,{id:"toolbarmanager",children:["ToolbarManager",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#toolbarmanager",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"工具栏管理器，提供丰富的工具栏自定义功能。"}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"注意"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsxs)(r.p,{children:["必须在渲染 ",(0,s.jsx)(r.code,{children:"<Editor />"})," 组件后才能使用 ",(0,s.jsx)(r.code,{children:"ToolbarManager"}),"。"]}),"\n",(0,s.jsxs)(r.p,{children:["建议使用 ",(0,s.jsx)(r.code,{children:"try...catch"})," 包裹相关操作以捕获可能的错误。"]}),"\n"]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'import { ToolbarManager } from "mini-markdown-editor";\n'})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"基本用法示例："})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'import { Editor, ToolbarManager } from "mini-markdown-editor";\r\n\r\nexport default function EditorComponent() {\r\n  useEffect(() => {\r\n    try {\r\n      // 工具栏管理器操作...\r\n      const toolbars = ToolbarManager.getAllToolbars();\r\n      console.log(toolbars);\r\n    } catch (error) {\r\n      console.error("工具栏操作失败:", error);\r\n    }\r\n  }, []);\r\n  \r\n  return <Editor />;\r\n}\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"getdefaulttoolbar",children:["getDefaultToolbar",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#getdefaulttoolbar",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"获取默认工具栏配置。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["返回值：",(0,s.jsx)(r.code,{children:"ToolbarItem[]"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["说明：返回原始默认工具栏配置，不受 ",(0,s.jsx)(r.code,{children:"toolbar.excludeTools"})," 属性影响。"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{1,5}",children:'import { Editor, ToolbarManager } from "mini-markdown-editor";\r\n\r\nexport default function () {\r\n  useEffect(() => {\r\n    const res = ToolbarManager.getDefaultToolbar();\r\n    console.log(res);\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Editor />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"gettoolbarorder",children:["getToolbarOrder",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#gettoolbarorder",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"获取指定工具栏项的当前顺序。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"type"}),": ",(0,s.jsx)(r.code,{children:"ToolbarType"})," - 工具栏类型"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"number"})," - 工具栏项的顺序索引，如果不存在则返回 -1"]}),"\n",(0,s.jsx)(r.li,{children:"说明：顺序索引从 0 开始，表示工具栏项在工具栏中的位置"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'\r\nuseEffect(() => {\r\n  const boldOrder = ToolbarManager.getToolbarOrder("bold");\r\n  console.log(`粗体按钮的位置是: ${boldOrder}`);\r\n}, []);\r\n\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"getalltoolbarsorder",children:["getAllToolbarsOrder",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#getalltoolbarsorder",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"获取所有工具栏项的顺序信息。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"{ type: ToolbarType; order: number }[]"})," - 工具栏类型和顺序的数组"]}),"\n",(0,s.jsx)(r.li,{children:"说明：返回按顺序排列的工具栏类型和索引位置信息"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'\r\nuseEffect(() => {\r\n  const toolbarsOrder = ToolbarManager.getAllToolbarsOrder();\r\n  console.log("工具栏顺序:", toolbarsOrder);\r\n}, []);\r\n\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"getalltoolbars",children:["getAllToolbars",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#getalltoolbars",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"获取当前所有工具栏项。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"ToolbarItem[]"})]}),"\n",(0,s.jsx)(r.li,{children:"说明：返回当前实际使用的工具栏配置，包括所有自定义修改。"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"useEffect(() => {\r\n  const currentToolbars = ToolbarManager.getAllToolbars();\r\n  console.log(currentToolbars);\r\n}, []);\n"})}),"\n",(0,s.jsxs)(r.h4,{id:"addtoolitem",children:["addToolItem",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#addtoolitem",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"添加新的工具栏项。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["参数：",(0,s.jsx)(r.code,{children:"item: ToolbarItem"})," - 工具栏项配置对象"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"说明：如果添加的工具栏类型已存在，将抛出错误。"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",meta:"{1,5-16}",children:'import { Editor, ToolbarManager } from "mini-markdown-editor";\r\n\r\nexport default function () {\r\n  useEffect(() => {\r\n  try {\r\n    ToolbarManager.addToolItem({\r\n      type: "custom-heading",  // 工具栏类型，必须唯一\r\n      icon: "heading",         // 图标名称\r\n      title: "自定义标题",      // 悬停提示文本\r\n      onClick: () => {\r\n        console.log("标题功能被点击");\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error("添加工具栏失败:", error);\r\n  }\r\n}, []);\r\n  return (\r\n    <>\r\n      <Editor />\r\n    </>\r\n  );\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"settoolbaritemorder",children:["setToolbarItemOrder",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#settoolbaritemorder",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"设置单个工具栏项的顺序。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"type"}),": ",(0,s.jsx)(r.code,{children:"ToolbarType"})," - 工具栏类型"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"newOrder"}),": ",(0,s.jsx)(r.code,{children:"number"})," - 新的顺序位置"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsx)(r.li,{children:"说明：会自动调整其他工具栏项的顺序以适应变化"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'\r\nuseEffect(() => {\r\n  try {\r\n    // 将粗体按钮移动到第一位置\r\n    ToolbarManager.setToolbarItemOrder("bold", 0);\r\n  } catch (error) {\r\n    console.error("设置工具栏顺序失败:", error);\r\n  }\r\n}, []);\r\n\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"settoolbarorder",children:["setToolbarOrder",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#settoolbarorder",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"批量设置多个工具栏项的顺序。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"orders"}),": ",(0,s.jsx)(r.code,{children:"Record<ToolbarType, number>"})," - 类型到顺序的映射对象"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsx)(r.li,{children:"说明：可以同时调整多个工具栏项的顺序"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'\r\nuseEffect(() => {\r\n  try {\r\n    ToolbarManager.setToolbarsOrder({\r\n      "bold": 0,\r\n      "italic": 1,\r\n      "underline": 2\r\n    });\r\n  } catch (error) {\r\n    console.error("批量设置工具栏顺序失败:", error);\r\n  }\r\n}, []);\r\n\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"updatetoolbars",children:["updateToolbars",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#updatetoolbars",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"完全替换工具栏配置。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"newToolbars"}),": ",(0,s.jsx)(r.code,{children:"ToolbarItem[]"})," - 新的工具栏配置数组"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive warning",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"警告"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsx)(r.p,{children:"此操作会覆盖所有现有工具栏项，请谨慎使用！"}),"\n"]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'useEffect(() => {\r\n  ToolbarManager.updateToolbars([\r\n    {\r\n      type: "heading",\r\n      icon: "heading",\r\n      title: "标题",\r\n      onClick: () => {\r\n        console.log("标题功能被触发");\r\n      },\r\n    },\r\n    // 添加其他需要保留的工具栏项...\r\n  ]);\r\n}, []);\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"updatetoolbaritem",children:["updateToolbarItem",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#updatetoolbaritem",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"更新特定工具栏项的配置。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"参数："}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"type"}),": ",(0,s.jsx)(r.code,{children:"ToolbarType"})," - 要更新的工具栏类型"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"partialToolbarItem"}),": ",(0,s.jsx)(r.code,{children:"Partial<ToolbarItem>"})," - 部分工具栏配置"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"说明：只更新指定的属性，其他属性保持不变。"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'useEffect(() => {\r\n  ToolbarManager.updateToolbarItem("bold", {\r\n    // 只更新以下属性，其他属性保持不变\r\n    onClick: () => {\r\n      console.log("自定义粗体功能");\r\n    },\r\n    hotkey: {\r\n      command: "Mod-b",\r\n      description: "加粗文本 (Ctrl+B)",\r\n      handle: () => {\r\n        console.log("通过快捷键触发粗体功能");\r\n      },\r\n    },\r\n  });\r\n}, []);\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"removetoolitem",children:["removeToolItem",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#removetoolitem",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"移除指定的工具栏项。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"type"}),": ",(0,s.jsx)(r.code,{children:"ToolbarType"})," - 要移除的工具栏类型"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsx)(r.li,{children:"说明：如果指定类型不存在，此操作不会产生任何效果。"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'useEffect(() => {\r\n  ToolbarManager.removeToolItem("bold");\r\n}, []);\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"reset",children:["reset",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#reset",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"重置工具栏到初始状态。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"说明：恢复到默认工具栏配置。"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"useEffect(() => {\r\n  // 在进行多次自定义后，恢复到默认配置\r\n  ToolbarManager.reset();\r\n}, []);\n"})}),"\n",(0,s.jsxs)(r.h4,{id:"reordertoolbar",children:["reorderToolbar",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#reordertoolbar",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"重新排序工具栏。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"newOrder"}),": ",(0,s.jsx)(r.code,{children:"ToolbarType[]"})," - 新的工具栏顺序数组"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsx)(r.li,{children:"说明：必须包含所有现有工具栏类型，否则将抛出错误。"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'useEffect(() => {\r\n  try {\r\n    ToolbarManager.reorderToolbar([\r\n      "heading", "line", "table", \r\n      "undo", "redo", "fullscreen"\r\n      // 需包含所有现有工具栏类型\r\n    ]);\r\n  } catch (error) {\r\n    console.error("工具栏重排序失败:", error);\r\n  }\r\n}, []);\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"swaptoolbarsposition",children:["swapToolbarsPosition",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#swaptoolbarsposition",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"firstType"}),": ",(0,s.jsx)(r.code,{children:"ToolbarType"})," - 第一个工具栏类型"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"secondType"}),": ",(0,s.jsx)(r.code,{children:"ToolbarType"})," - 第二个工具栏类型"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsx)(r.li,{children:"说明：如果指定的工具栏类型不存在，将抛出错误。"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"交换两个工具栏项的位置。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'\r\nuseEffect(() => {\r\n  try {\r\n    // 交换粗体和斜体按钮的位置\r\n    ToolbarManager.swapToolbarsPosition("bold", "italic");\r\n  } catch (error) {\r\n    console.error("交换工具栏位置失败:", error);\r\n  }\r\n}, []);\r\n\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"事件监听",children:["事件监听",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#事件监听",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"ToolbarManager"})," 继承自 ",(0,s.jsx)(r.code,{children:"BaseClass"}),"，因此具有完整的事件管理能力，可以监听和响应工具栏变化事件。"]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsx)(r.p,{children:"通过事件系统，您可以实现对工具栏变化的实时响应，如状态同步、UI更新等。"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"事件监听方法示例："})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'\r\n// 监听工具栏变化事件\r\nToolbarManager.on("toolbar:added", (toolbarItem) => {\r\n  console.log("新增了工具栏项:", toolbarItem);\r\n});\r\n\r\n// 一次性事件监听\r\nToolbarManager.once("toolbar:removed", (type) => {\r\n  console.log(`工具栏项 ${type} 已被移除`);\r\n});\r\n\r\n// 移除事件监听\r\nconst updateHandler = (updatedItem) => {\r\n  console.log("工具栏项已更新:", updatedItem);\r\n};\r\nToolbarManager.on("toolbar:updated", updateHandler);\r\n// 稍后移除监听\r\nToolbarManager.off("toolbar:updated", updateHandler);\r\n\r\n\n'})}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"提示"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsxs)(r.p,{children:["更多自定义事件类型，详见 ",(0,s.jsx)(r.a,{href:"#toolbarevents",children:"类型 ToolbarEvents"}),"。"]}),"\n"]})]}),"\n",(0,s.jsxs)(r.h4,{id:"扩展方法",children:["扩展方法",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#扩展方法",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"ToolbarManager"})," 提供了插件系统，允许您注册自定义方法来扩展其功能，无需继承或修改原始类。"]}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive warning",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"注意"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsxs)(r.p,{children:["自定义方法中，",(0,s.jsx)(r.code,{children:"this"})," 指向 ",(0,s.jsx)(r.code,{children:"ToolbarManager"})," 实例，因此可以访问所有公共方法。但应避免直接访问私有属性或修改内部状态，以免导致意外行为。"]}),"\n"]})]}),"\n",(0,s.jsxs)(r.h5,{id:"registermethod",children:["registerMethod",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#registermethod",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"注册自定义方法到工具栏管理器。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"name"}),": ",(0,s.jsx)(r.code,{children:"string"})," - 方法名称"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"method"}),": ",(0,s.jsx)(r.code,{children:"(...args: any[]) => any"})," - 方法实现"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"override"}),": ",(0,s.jsx)(r.code,{children:"boolean = false"})," - 是否允许覆盖已存在的方法"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'\r\nuseEffect(() => {\r\n  try {\r\n    ToolbarManager.registerMethod("groupToolbars", function(groupName) {\r\n      // 此处的 this 指向 ToolbarManager 实例\r\n      const allToolbars = this.getAllToolbars();\r\n      \r\n      // 根据类型分组工具栏\r\n      return {\r\n        formatting: allToolbars.filter(tool => \r\n          ["bold", "italic", "underline"].includes(tool.type)\r\n        ),\r\n        insert: allToolbars.filter(tool => \r\n          ["image", "link", "table"].includes(tool.type)\r\n        )\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.error("注册自定义方法失败:", error);\r\n  }\r\n}, []);\r\n\n'})}),"\n",(0,s.jsxs)(r.h5,{id:"callmethod",children:["callMethod",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#callmethod",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"调用已注册的自定义方法。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"name"}),": ",(0,s.jsx)(r.code,{children:"string"})," - 方法名称"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"...args"}),": ",(0,s.jsx)(r.code,{children:"any[]"})," - 传递给方法的参数"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值: ",(0,s.jsx)(r.code,{children:"any"})," - 自定义方法的返回值"]}),"\n",(0,s.jsx)(r.li,{children:"说明: 如果方法不存在，将抛出错误"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'\r\n// 假定已注册了名为 groupToolbars 的自定义方法\r\nuseEffect(() => {\r\n  try {\r\n    // 调用自定义分组方法\r\n    const groups = ToolbarManager.callMethod("groupToolbars", "default");\r\n    console.log("格式化工具:", groups.formatting);\r\n    console.log("插入工具:", groups.insert);\r\n  } catch (error) {\r\n    console.error("调用自定义方法失败:", error);\r\n  }\r\n}, []);\r\n\n'})}),"\n",(0,s.jsxs)(r.h5,{id:"unregistermethod",children:["unregisterMethod",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#unregistermethod",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"移除已注册的自定义方法。"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数: ",(0,s.jsx)(r.code,{children:"name"}),": ",(0,s.jsx)(r.code,{children:"string"})," - 方法名称"]}),"\n",(0,s.jsxs)(r.li,{children:["返回值: ",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsx)(r.li,{children:"说明: 如果方法不存在，此操作不会产生任何效果"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'\r\nuseEffect(() => {\r\n  // 当不再需要某个自定义方法时\r\n  ToolbarManager.unregisterMethod("groupToolbars");\r\n}, []);\r\n\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"资源清理",children:["资源清理",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#资源清理",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["当不再需要 ToolbarManager 时，应当调用 ",(0,s.jsx)(r.code,{children:"destroy()"})," 方法释放资源："]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"\r\nuseEffect(() => {\r\n  // ...\r\n  \r\n  return () => {\r\n    // 组件卸载时清理资源\r\n    ToolbarManager.destroy();\r\n  };\r\n}, []);\r\n\n"})}),"\n",(0,s.jsx)(r.p,{children:"这将移除所有事件监听器和自定义方法，并标记实例为已销毁，防止内存泄漏和意外操作。"}),"\n",(0,s.jsxs)(r.h3,{id:"insertcontent",children:["insertContent",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#insertcontent",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["对 ",(0,s.jsx)(r.code,{children:"Editor"})," 的编辑区进行操作的方法，可结合 ",(0,s.jsx)(r.code,{children:"自定义toolbar"})," 使用，实现完整功能。"]}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"注意"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsxs)(r.p,{children:["需要渲染 ",(0,s.jsx)(r.code,{children:"<Editor />"})," 组件后，才能使用 ",(0,s.jsx)(r.code,{children:"insertContent"}),"。"]}),"\n"]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'import { insertContent } from "mini-markdown-editor";\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"1-insertcontent",children:["1. insertContent",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#1-insertcontent",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"content: string, selection: { anchor: number; head: number }"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["在编辑区插入内容（相比 ",(0,s.jsx)(r.code,{children:"insertTextAtCursor"})," 方法，该方法控制更加精细）。"]}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive info",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"selection 参数"}),(0,s.jsxs)(r.div,{className:"rspress-directive-content",children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"anchor、head"}),"：用于控制光标位置，当 ",(0,s.jsx)(r.code,{children:"anchor"})," 和 ",(0,s.jsx)(r.code,{children:"head"})," 相等时，表示光标在当前位置，如果 ",(0,s.jsx)(r.code,{children:"anchor"})," 和 ",(0,s.jsx)(r.code,{children:"head"})," 不相等，则表示光标选中某段内容。"]}),"\n"]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'import { Editor, insertContent } from "mini-markdown-editor";\r\nexport default function () {\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => {\r\n          insertContent.insertContent("hello world", { anchor: 1, head: 1 });\r\n        }}\r\n      >\r\n        插入内容\r\n      </button>\r\n      <Editor />\r\n    </>\r\n  );\r\n}\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"2-inserttextatcursor",children:["2. insertTextAtCursor",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#2-inserttextatcursor",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"content: string"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"在编辑区插入文本。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'import { insertContent } from "mini-markdown-editor";\r\n\r\n<button\r\n  onClick={() => {\r\n    insertContent.insertTextAtCursor("hello world");\r\n  }}\r\n>\r\n  插入文本\r\n</button>;\n'})}),"\n",(0,s.jsxs)(r.h4,{id:"3-undoredo",children:["3. undo、redo",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#3-undoredo",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["参数：",(0,s.jsx)(r.code,{children:"void"})]}),"\n",(0,s.jsxs)(r.li,{children:["返回值：",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"撤销、重做。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'import { insertContent } from "mini-markdown-editor";\r\n\r\n<button\r\n  onClick={() => {\r\n    insertContent.undo();\r\n  }}\r\n>\r\n  撤销\r\n</button>;\r\n<button\r\n  onClick={() => {\r\n    insertContent.redo();\r\n  }}\r\n>\r\n  重做\r\n</button>;\n'})}),"\n",(0,s.jsxs)(r.h2,{id:"常量",children:["常量",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#常量",children:"#"})]}),"\n",(0,s.jsxs)(r.h3,{id:"editor_content_key",children:["EDITOR_CONTENT_KEY",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#editor_content_key",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["编辑区内容存储( localStorage )的 ",(0,s.jsx)(r.code,{children:"key"}),"，值为 ",(0,s.jsx)(r.code,{children:"markdown-editor-content"}),"。"]}),"\n",(0,s.jsxs)(r.h3,{id:"sync_scroll_status",children:["SYNC_SCROLL_STATUS",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#sync_scroll_status",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["同步滚动状态(存储在 localStorage 中)，值为 ",(0,s.jsx)(r.code,{children:"markdown-editor-sync-scroll"}),"。"]}),"\n",(0,s.jsxs)(r.h2,{id:"类型",children:["类型",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#类型",children:"#"})]}),"\n",(0,s.jsxs)(r.h3,{id:"editorviewviewupdate",children:["EditorView、ViewUpdate",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#editorviewviewupdate",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["编辑区使用的是 ",(0,s.jsx)(r.code,{children:"CodeMirror"}),"，对外暴露了 ",(0,s.jsx)(r.code,{children:"EditorView"})," 和 ",(0,s.jsx)(r.code,{children:"ViewUpdate"})," 两个类型，可供使用。"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'import type { EditorView, ViewUpdate } from "mini-markdown-editor";\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"toolbartype",children:["ToolbarType",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#toolbartype",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["工具栏类型，用于配置 ",(0,s.jsx)(r.code,{children:"toolbar"}),"。"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'// 基础工具栏类型\r\nenum BaseToolbarType {\r\n  HEADING = "heading",\r\n  HEADING_1 = "heading-1",\r\n  HEADING_2 = "heading-2",\r\n  HEADING_3 = "heading-3",\r\n  HEADING_4 = "heading-4",\r\n  HEADING_5 = "heading-5",\r\n  HEADING_6 = "heading-6",\r\n  BOLD = "bold",\r\n  ITALIC = "italic",\r\n  UNDERLINE = "underline",\r\n  DELETE = "delete",\r\n  LINE = "line",\r\n  BLOCKQUOTE = "blockquote",\r\n  UL = "ul",\r\n  OL = "ol",\r\n  INLINECODE = "inlinecode",\r\n  CODE = "code",\r\n  LINK = "link",\r\n  IMAGE = "image",\r\n  IMAGE_LINK = "image-link",\r\n  IMAGE_UPLOAD = "image-upload",\r\n  TABLE = "table",\r\n  UNDO = "undo",\r\n  REDO = "redo",\r\n  FULLSCREEN = "fullscreen",\r\n  WRITE = "write",\r\n  PREVIEW = "preview",\r\n  CONTENTS = "contents",\r\n  HELP = "help",\r\n  OUTPUT = "output",\r\n  EMOJI = "emoji",\r\n  SAVE = "save",\r\n}\r\n\r\n// 允许用户扩展的工具栏类型\r\ntype ExtendedToolbarType = string;\r\n\r\n// 合并基础类型和扩展类型\r\ntype ToolbarType = BaseToolbarType | ExtendedToolbarType;\n'})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"使用："})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'import type { ToolbarType } from "mini-markdown-editor";\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"toolbaritem",children:["ToolbarItem",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#toolbaritem",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"工具栏每一项类型。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"// 工具栏列表项接口\r\ninterface ToolbarItemListItem {\r\n  title: string;\r\n  type: string;\r\n  hotkey?: {\r\n    command: string;\r\n    description: string;\r\n    handle?: () => void;\r\n  };\r\n  onClick?: (...args: any[]) => void | (() => void);\r\n}\r\n\r\n// 完整的工具栏项接口\r\ninterface ToolbarItem extends BaseToolbarItem {\r\n  list?: ToolbarItemListItem[];\r\n  hotkey?: {\r\n    command: string;\r\n    description: string;\r\n    handle?: () => void;\r\n  };\r\n}\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"toolbarevents",children:["ToolbarEvents",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#toolbarevents",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"工具栏基础自定义事件类型。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'\r\nenum ToolbarEvents {\r\n  TOOLBAR_ADDED = "toolbar:added",\r\n  TOOLBAR_REMOVED = "toolbar:removed",\r\n  TOOLBAR_UPDATED = "toolbar:updated",\r\n  TOOLBAR_REORDERED = "toolbar:reordered",\r\n  TOOLBAR_RESET = "toolbar:reset",\r\n  TOOLBAR_ERROR = "toolbar:error",\r\n  METHOD_REGISTERED = "method:registered",\r\n  METHOD_UNREGISTERED = "method:unregistered",\r\n  beforeDestroy = "beforeDestroy",\r\n  destroy = "destroy",\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"toolbarcontextvalues",children:["ToolbarContextValues",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#toolbarcontextvalues",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"工具栏上下文值接口，可以对工具栏进行“增删改查”。"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"interface ToolbarContextValues {\r\n  toolbars: ToolbarItem[];\r\n  addToolbar?: (toolbarItem: ToolbarItem) => void;\r\n  removeToolbar?: (type: ToolbarType) => void;\r\n  updateToolbar?: (type: ToolbarType, newConfig: Partial<ToolbarItem>) => void;\r\n  reorderToolbars?: (newOrder: ToolbarType[]) => void;\r\n}\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"globalconfig",children:["GlobalConfig",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#globalconfig",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"全局配置类型。"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"ReactCodeMirrorProps"})," 来自 ",(0,s.jsx)(r.code,{children:"@uiw/react-codemirror"}),"。"]}),"\n",(0,s.jsxs)(r.p,{children:["因此，可以使用 ",(0,s.jsx)(r.code,{children:"CodeMirrorProps"})," 中的配置。"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'interface GlobalConfig extends ReactCodeMirrorProps {\r\n  /**\r\n   * 编辑器初始内容\r\n   */\r\n  value?: string;\r\n  /**\r\n   * 配置工具栏\r\n   * 添加工具; 排除工具; 排序工具\r\n   */\r\n  toolbars?: {\r\n    addTools?: ToolbarItem[];\r\n    excludeTools?: string[];\r\n    orderTools?: { type: string; order: number }[];\r\n  };\r\n  /**\r\n   * 底部状态栏是否显示，默认显示\r\n   */\r\n  status?: boolean;\r\n    /**\r\n   * 语言环境\r\n   */\r\n  locale?: "en" | "cn" | "tw";\r\n  /**\r\n   * 编辑器主题\r\n   */\r\n  theme?: "light" | "dark";\r\n  /**\r\n   * 是否开启本地存储\r\n   */\r\n  local?: boolean; // 是否开启本地存储\r\n  /**\r\n   * 编辑区是否显示行号\r\n   */\r\n  lineNumbers?: boolean;\r\n  /**\r\n   * 是否开启快捷键支持\r\n   */\r\n  enableShortcuts?: boolean;\r\n  /**\r\n   * 改变编辑器内容时触发\r\n   */\r\n  onChange?: (value: string, editorView: ViewUpdate) => void;\r\n  /**\r\n   * 上传图片时触发\r\n   */\r\n  onUpload?: (file: File, callback: Callback) => void;\r\n  /**\r\n   * 拖拽上传图片时触发\r\n   */\r\n  onDragUpload?: (file: File, callback: Callback) => void;\r\n  /**\r\n   * 粘贴上传图片时触发\r\n   */\r\n  onPatseUpload?: (file: File, callback: Callback) => void;\r\n  /**\r\n   * 保存触发\r\n   */\r\n  onSave?: (value: string, editorView: EditorView) => void;\r\n}\r\n\r\ntype Callback = (param: { url: string; alt?: string }) => void;\n'})}),"\n",(0,s.jsx)(r.p,{children:"其他类型"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'type GlobalContextConfig = Pick<\r\n  GlobalConfig,\r\n  | "theme"\r\n  | "value"\r\n  | "toolbars"\r\n  | "status"\r\n  | "local"\r\n  | "lineNumbers"\r\n  | "enableShortcuts"\r\n  | "onUpload"\r\n  | "onDragUpload"\r\n  | "onPatseUpload"\r\n  | "onSave"\r\n  | "onChange"\r\n>;\r\ntype EditorConfig = Omit<GlobalConfig, keyof GlobalContextConfig>;\n'})}),"\n",(0,s.jsxs)(r.h3,{id:"editorref",children:["EditorRef",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#editorref",children:"#"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"interface EditorRef {\r\n  /**\r\n   * 获取编辑器内容\r\n   */\r\n  getContent: () => string;\r\n  /**\r\n   * 设置编辑器内容\r\n   */\r\n  setContent: (content: string) => void;\r\n  /**\r\n   * 清空编辑器内容\r\n   */\r\n  clear: () => void;\r\n  /**\r\n   * 设置光标位置\r\n   */\r\n  setCursor: (start: number, end: number) => void;\r\n  /**\r\n   * 获取光标位置\r\n   */\r\n  getCursor: () => { from: number; to: number };\r\n  /**\r\n   * 获取选中内容\r\n   */\r\n  getSelection: () => string;\r\n  /**\r\n   * 聚焦\r\n   */\r\n  focus: () => void;\r\n  /**\r\n   * 获取编辑器实例\r\n   */\r\n  getEditorInstance: () => EditorView | null;\r\n  /**\r\n   * 获取预览区实例\r\n   */\r\n  getPreviewInstance: () => HTMLElement | null;\r\n}\n"})})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,d.ah)(),e.components);return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}let t=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["guide%2Fapi.mdx"]={toc:[{text:"属性",id:"属性",depth:2},{text:"toolbars",id:"toolbars",depth:3},{text:"1. 移除工具栏",id:"1-移除工具栏",depth:4},{text:"2. 新增工具栏",id:"2-新增工具栏",depth:4},{text:"3. 工具栏排序",id:"3-工具栏排序",depth:4},{text:"placeholder",id:"placeholder",depth:3},{text:"value",id:"value",depth:3},{text:"local",id:"local",depth:3},{text:"status",id:"status",depth:3},{text:"theme",id:"theme",depth:3},{text:"locale",id:"locale",depth:3},{text:"autoFocus",id:"autofocus",depth:3},{text:"lineNumbers",id:"linenumbers",depth:3},{text:"enableShortcuts",id:"enableshortcuts",depth:3},{text:"style、className、id等其他属性",id:"styleclassnameid等其他属性",depth:3},{text:"事件",id:"事件",depth:2},{text:"onChange",id:"onchange",depth:3},{text:"onSave",id:"onsave",depth:3},{text:"onUpload",id:"onupload",depth:3},{text:"onDragUpload",id:"ondragupload",depth:3},{text:"onPatseUpload",id:"onpatseupload",depth:3},{text:"ref",id:"ref",depth:2},{text:"getContent",id:"getcontent",depth:3},{text:"setContent",id:"setcontent",depth:3},{text:"clear",id:"clear",depth:3},{text:"setCursor",id:"setcursor",depth:3},{text:"getCursor",id:"getcursor",depth:3},{text:"getSelection",id:"getselection",depth:3},{text:"focus",id:"focus",depth:3},{text:"getEditorInstance",id:"geteditorinstance",depth:3},{text:"getPreviewInstance",id:"getpreviewinstance",depth:3},{text:"实例方法",id:"实例方法",depth:2},{text:"ToolbarManager",id:"toolbarmanager",depth:3},{text:"getDefaultToolbar",id:"getdefaulttoolbar",depth:4},{text:"getToolbarOrder",id:"gettoolbarorder",depth:4},{text:"getAllToolbarsOrder",id:"getalltoolbarsorder",depth:4},{text:"getAllToolbars",id:"getalltoolbars",depth:4},{text:"addToolItem",id:"addtoolitem",depth:4},{text:"setToolbarItemOrder",id:"settoolbaritemorder",depth:4},{text:"setToolbarOrder",id:"settoolbarorder",depth:4},{text:"updateToolbars",id:"updatetoolbars",depth:4},{text:"updateToolbarItem",id:"updatetoolbaritem",depth:4},{text:"removeToolItem",id:"removetoolitem",depth:4},{text:"reset",id:"reset",depth:4},{text:"reorderToolbar",id:"reordertoolbar",depth:4},{text:"swapToolbarsPosition",id:"swaptoolbarsposition",depth:4},{text:"事件监听",id:"事件监听",depth:4},{text:"扩展方法",id:"扩展方法",depth:4},{text:"资源清理",id:"资源清理",depth:4},{text:"insertContent",id:"insertcontent",depth:3},{text:"1. insertContent",id:"1-insertcontent",depth:4},{text:"2. insertTextAtCursor",id:"2-inserttextatcursor",depth:4},{text:"3. undo、redo",id:"3-undoredo",depth:4},{text:"常量",id:"常量",depth:2},{text:"EDITOR_CONTENT_KEY",id:"editor_content_key",depth:3},{text:"SYNC_SCROLL_STATUS",id:"sync_scroll_status",depth:3},{text:"类型",id:"类型",depth:2},{text:"EditorView、ViewUpdate",id:"editorviewviewupdate",depth:3},{text:"ToolbarType",id:"toolbartype",depth:3},{text:"ToolbarItem",id:"toolbaritem",depth:3},{text:"ToolbarEvents",id:"toolbarevents",depth:3},{text:"ToolbarContextValues",id:"toolbarcontextvalues",depth:3},{text:"GlobalConfig",id:"globalconfig",depth:3},{text:"EditorRef",id:"editorref",depth:3}],title:"API",headingTitle:"API",frontmatter:{}}}}]);