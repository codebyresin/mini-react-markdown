import { mergeDocConfig } from '@rspress/shared/node-utils';
import type { RsbuildConfig } from '@rsbuild/core';
import { RsbuildInstance } from '@rsbuild/core';
import { UserConfig } from '@rspress/shared';

export declare function build(options: BuildOptions): Promise<void>;

declare interface BuildOptions {
    appDirectory: string;
    docDirectory: string;
    config: UserConfig;
}

export declare function dev(options: DevOptions): Promise<ServerInstance>;

declare interface DevOptions {
    appDirectory: string;
    docDirectory: string;
    config: UserConfig;
    extraBuilderConfig?: RsbuildConfig;
}

export { mergeDocConfig }

export declare function serve(options: ServeOptions): Promise<ReturnType<RsbuildInstance['preview']>>;

declare interface ServeOptions {
    config: UserConfig;
    port?: number;
    host?: string;
}

declare interface ServerInstance {
    close: () => Promise<void>;
}


export * from "@rspress/shared";

export { }
