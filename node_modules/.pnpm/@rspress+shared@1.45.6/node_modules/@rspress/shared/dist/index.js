"use strict";
var __webpack_require__ = {};
(()=>{
    __webpack_require__.d = (exports1, definition)=>{
        for(var key in definition)if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports1, key)) Object.defineProperty(exports1, key, {
            enumerable: true,
            get: definition[key]
        });
    };
})();
(()=>{
    __webpack_require__.o = (obj, prop)=>Object.prototype.hasOwnProperty.call(obj, prop);
})();
(()=>{
    __webpack_require__.r = (exports1)=>{
        if ('undefined' != typeof Symbol && Symbol.toStringTag) Object.defineProperty(exports1, Symbol.toStringTag, {
            value: 'Module'
        });
        Object.defineProperty(exports1, '__esModule', {
            value: true
        });
    };
})();
var __webpack_exports__ = {};
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
    RSPRESS_TEMP_DIR: ()=>RSPRESS_TEMP_DIR,
    parseUrl: ()=>parseUrl,
    withBase: ()=>withBase,
    slash: ()=>slash,
    removeBase: ()=>removeBase,
    replaceLang: ()=>replaceLang,
    removeLeadingSlash: ()=>removeLeadingSlash,
    addLeadingSlash: ()=>addLeadingSlash,
    replaceVersion: ()=>replaceVersion,
    isDevDebugMode: ()=>isDevDebugMode,
    HASH_REGEXP: ()=>HASH_REGEXP,
    withoutLang: ()=>withoutLang,
    MDX_OR_MD_REGEXP: ()=>MDX_OR_MD_REGEXP,
    SEARCH_INDEX_NAME: ()=>SEARCH_INDEX_NAME,
    withoutBase: ()=>withoutBase,
    isDebugMode: ()=>isDebugMode,
    isExternalUrl: ()=>isExternalUrl,
    isSCM: ()=>isSCM,
    addTrailingSlash: ()=>addTrailingSlash,
    normalizeSlash: ()=>normalizeSlash,
    APPEARANCE_KEY: ()=>APPEARANCE_KEY,
    normalizeHref: ()=>normalizeHref,
    normalizePosixPath: ()=>normalizePosixPath,
    removeHash: ()=>removeHash,
    removeTrailingSlash: ()=>removeTrailingSlash,
    QUERY_REGEXP: ()=>QUERY_REGEXP,
    isProduction: ()=>isProduction,
    DEFAULT_HIGHLIGHT_LANGUAGES: ()=>DEFAULT_HIGHLIGHT_LANGUAGES,
    inBrowser: ()=>inBrowser,
    isDataUrl: ()=>isDataUrl,
    cleanUrl: ()=>runtime_utils_cleanUrl
});
const QUERY_REGEXP = /\?.*$/s;
const HASH_REGEXP = /#.*$/s;
const MDX_OR_MD_REGEXP = /\.mdx?$/;
const APPEARANCE_KEY = 'rspress-theme-appearance';
const SEARCH_INDEX_NAME = 'search_index';
const RSPRESS_TEMP_DIR = '.rspress';
const DEFAULT_HIGHLIGHT_LANGUAGES = [
    [
        'js',
        "javascript"
    ],
    [
        'ts',
        "typescript"
    ],
    [
        'jsx',
        'tsx'
    ],
    [
        'xml',
        'xml-doc'
    ],
    [
        'md',
        'markdown'
    ],
    [
        'mdx',
        'tsx'
    ]
];
const isSCM = ()=>Boolean(process.env.BUILD_VERSION);
const isProduction = ()=>'production' === process.env.NODE_ENV;
const isDebugMode = ()=>{
    if (!process.env.DEBUG) return false;
    const values = process.env.DEBUG?.toLocaleLowerCase().split(',') ?? [];
    return [
        'rsbuild',
        'builder',
        '*'
    ].some((key)=>values.includes(key));
};
const isDevDebugMode = ()=>'rspress-dev' === process.env.DEBUG;
const runtime_utils_cleanUrl = (url)=>url.replace(HASH_REGEXP, '').replace(QUERY_REGEXP, '');
function slash(str) {
    return str.replace(/\\/g, '/');
}
function removeHash(str) {
    return str.replace(/#.*$/, '');
}
function normalizePosixPath(id) {
    const path = slash(id);
    const isAbsolutePath = path.startsWith('/');
    const parts = path.split('/');
    const normalizedParts = [];
    for (const part of parts)if ('.' === part || '' === part) ;
    else if ('..' === part) {
        if (normalizedParts.length > 0 && '..' !== normalizedParts[normalizedParts.length - 1]) normalizedParts.pop();
        else if (isAbsolutePath) normalizedParts.push('..');
    } else normalizedParts.push(part);
    let normalizedPath = normalizedParts.join('/');
    if (isAbsolutePath) normalizedPath = `/${normalizedPath}`;
    return normalizedPath;
}
const inBrowser = ()=>!process.env.__SSR__;
function addLeadingSlash(url) {
    return '/' === url.charAt(0) || isExternalUrl(url) ? url : `/${url}`;
}
function removeLeadingSlash(url) {
    return '/' === url.charAt(0) ? url.slice(1) : url;
}
function addTrailingSlash(url) {
    return '/' === url.charAt(url.length - 1) ? url : `${url}/`;
}
function removeTrailingSlash(url) {
    return '/' === url.charAt(url.length - 1) ? url.slice(0, -1) : url;
}
function normalizeSlash(url) {
    return removeTrailingSlash(addLeadingSlash(normalizePosixPath(url)));
}
function isExternalUrl(url = '') {
    return url.startsWith('http://') || url.startsWith('https://') || url.startsWith('mailto:') || url.startsWith('tel:');
}
function isDataUrl(url = '') {
    return /^\s*data:/i.test(url);
}
function replaceLang(rawUrl, lang, version, base = '', cleanUrls = false, isPageNotFound = false) {
    let url = removeBase(rawUrl, base);
    if (!url || isPageNotFound) url = cleanUrls ? '/index' : '/index.html';
    if (url.endsWith('/')) url += cleanUrls ? '/index' : '/index.html';
    let versionPart = '';
    let langPart = '';
    let purePathPart = '';
    const parts = url.split('/').filter(Boolean);
    if (version.current && version.current !== version.default) versionPart = parts.shift() || '';
    if (lang.target !== lang.default) {
        langPart = lang.target;
        if (lang.current !== lang.default) parts.shift();
    } else parts.shift();
    purePathPart = parts.join('/') || '';
    if ((versionPart || langPart) && !purePathPart) purePathPart = cleanUrls ? 'index' : 'index.html';
    return withBase(addLeadingSlash([
        versionPart,
        langPart,
        purePathPart
    ].filter(Boolean).join('/')), base);
}
function replaceVersion(rawUrl, version, base = '', cleanUrls = false, isPageNotFound = false) {
    let url = removeBase(rawUrl, base);
    if (!url || isPageNotFound) url = cleanUrls ? '/index' : '/index.html';
    let versionPart = '';
    const parts = url.split('/').filter(Boolean);
    if (version.target !== version.default) {
        versionPart = version.target;
        if (version.current !== version.default) parts.shift();
    } else parts.shift();
    let restPart = parts.join('/') || '';
    if (versionPart && !restPart) restPart = cleanUrls ? 'index' : 'index.html';
    return withBase(addLeadingSlash([
        versionPart,
        restPart
    ].filter(Boolean).join('/')), base);
}
const parseUrl = (url)=>{
    const [withoutHash, hash = ''] = url.split('#');
    return {
        url: withoutHash,
        hash
    };
};
function normalizeHref(url, cleanUrls = false) {
    if (!url) return '/';
    if (isExternalUrl(url)) return url;
    let { url: cleanUrl, hash } = parseUrl(decodeURIComponent(url));
    if (!cleanUrls && !cleanUrl.endsWith('.html')) if (cleanUrl.endsWith('/')) cleanUrl += 'index.html';
    else cleanUrl += '.html';
    if (cleanUrls && cleanUrl.endsWith('/')) cleanUrl += 'index';
    if (cleanUrls && cleanUrl.endsWith('.html')) cleanUrl = cleanUrl.replace(/\.html$/, '');
    return addLeadingSlash(hash ? `${cleanUrl}#${hash}` : cleanUrl);
}
function withoutLang(path, langs) {
    const langRegexp = new RegExp(`^\\/(${langs.join('|')})`);
    return addLeadingSlash(path.replace(langRegexp, ''));
}
function withoutBase(path, base) {
    return addLeadingSlash(path).replace(normalizeSlash(base), '');
}
function withBase(url, base) {
    const normalizedUrl = addLeadingSlash(url);
    const normalizedBase = normalizeSlash(base);
    return normalizedUrl.startsWith(normalizedBase) ? normalizedUrl : `${normalizedBase}${normalizedUrl}`;
}
function removeBase(url, base) {
    return addLeadingSlash(url).replace(new RegExp(`^${normalizeSlash(base)}`), '');
}
exports.APPEARANCE_KEY = __webpack_exports__.APPEARANCE_KEY;
exports.DEFAULT_HIGHLIGHT_LANGUAGES = __webpack_exports__.DEFAULT_HIGHLIGHT_LANGUAGES;
exports.HASH_REGEXP = __webpack_exports__.HASH_REGEXP;
exports.MDX_OR_MD_REGEXP = __webpack_exports__.MDX_OR_MD_REGEXP;
exports.QUERY_REGEXP = __webpack_exports__.QUERY_REGEXP;
exports.RSPRESS_TEMP_DIR = __webpack_exports__.RSPRESS_TEMP_DIR;
exports.SEARCH_INDEX_NAME = __webpack_exports__.SEARCH_INDEX_NAME;
exports.addLeadingSlash = __webpack_exports__.addLeadingSlash;
exports.addTrailingSlash = __webpack_exports__.addTrailingSlash;
exports.cleanUrl = __webpack_exports__.cleanUrl;
exports.inBrowser = __webpack_exports__.inBrowser;
exports.isDataUrl = __webpack_exports__.isDataUrl;
exports.isDebugMode = __webpack_exports__.isDebugMode;
exports.isDevDebugMode = __webpack_exports__.isDevDebugMode;
exports.isExternalUrl = __webpack_exports__.isExternalUrl;
exports.isProduction = __webpack_exports__.isProduction;
exports.isSCM = __webpack_exports__.isSCM;
exports.normalizeHref = __webpack_exports__.normalizeHref;
exports.normalizePosixPath = __webpack_exports__.normalizePosixPath;
exports.normalizeSlash = __webpack_exports__.normalizeSlash;
exports.parseUrl = __webpack_exports__.parseUrl;
exports.removeBase = __webpack_exports__.removeBase;
exports.removeHash = __webpack_exports__.removeHash;
exports.removeLeadingSlash = __webpack_exports__.removeLeadingSlash;
exports.removeTrailingSlash = __webpack_exports__.removeTrailingSlash;
exports.replaceLang = __webpack_exports__.replaceLang;
exports.replaceVersion = __webpack_exports__.replaceVersion;
exports.slash = __webpack_exports__.slash;
exports.withBase = __webpack_exports__.withBase;
exports.withoutBase = __webpack_exports__.withoutBase;
exports.withoutLang = __webpack_exports__.withoutLang;
for(var __webpack_i__ in __webpack_exports__)if (-1 === [
    "APPEARANCE_KEY",
    "DEFAULT_HIGHLIGHT_LANGUAGES",
    "HASH_REGEXP",
    "MDX_OR_MD_REGEXP",
    "QUERY_REGEXP",
    "RSPRESS_TEMP_DIR",
    "SEARCH_INDEX_NAME",
    "addLeadingSlash",
    "addTrailingSlash",
    "cleanUrl",
    "inBrowser",
    "isDataUrl",
    "isDebugMode",
    "isDevDebugMode",
    "isExternalUrl",
    "isProduction",
    "isSCM",
    "normalizeHref",
    "normalizePosixPath",
    "normalizeSlash",
    "parseUrl",
    "removeBase",
    "removeHash",
    "removeLeadingSlash",
    "removeTrailingSlash",
    "replaceLang",
    "replaceVersion",
    "slash",
    "withBase",
    "withoutBase",
    "withoutLang"
].indexOf(__webpack_i__)) exports[__webpack_i__] = __webpack_exports__[__webpack_i__];
Object.defineProperty(exports, '__esModule', {
    value: true
});
